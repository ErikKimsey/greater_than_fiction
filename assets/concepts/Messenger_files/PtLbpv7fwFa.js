if (self.CavalryLogger) { CavalryLogger.start_js(["wzCjz"]); }

__d("ReactEventsPressLegacy-prod",["react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a="undefined"!==typeof window&&void 0!==window.PointerEvent;var g="undefined"!==typeof window&&null!=window.navigator?/^Mac/.test(window.navigator.platform):!1,h={bottom:20,top:20,left:20,right:20},i=a?"pointerup pointermove pointercancel click keyup scroll".split(" "):"click keyup scroll mousemove touchmove touchcancel dragstart mouseup touchend".split(" ");function j(a){return"function"===typeof a}function k(a,b,c,d,e,f){var g=d.pressTarget,h=d.pointerType,i=d.touchEvent,j=null!=a&&!0===a.nativeEvent.defaultPrevented||"press"===e&&d.shouldPreventClick,k=c.getTimeStamp(),l=null,m=null,n=null,o=null,p=null,q=null,r=!1,s=!1,t=!1,u=!1;a&&(a=a.nativeEvent,r=a.altKey,s=a.ctrlKey,t=a.metaKey,u=a.shiftKey,i=i||a)&&(l=i.clientX,m=i.clientY,n=i.pageX,o=i.pageY,p=i.screenX,q=i.screenY);c.dispatchEvent({altKey:r,buttons:d.buttons,clientX:l,clientY:m,ctrlKey:s,defaultPrevented:j,metaKey:t,pageX:n,pageY:o,pointerType:h,screenX:p,screenY:q,shiftKey:u,target:g,timeStamp:k,type:e,x:l,y:m},b,f)}function l(a,b,c,d){__p&&__p();d.isPressed=!0;if(!d.isActivePressStart){d.isActivePressStart=!0;var e=a.nativeEvent,f=d.touchEvent||e;e=f.clientX;var g=f.clientY;f=d.isActivePressed;d.isActivePressed=!0;void 0!==e&&void 0!==g&&(d.activationPosition={x:e,y:g});e=c.onPressStart;j(e)&&k(a,e,b,d,"pressstart",0);f||(a=c.onPressChange,j(a)&&b.dispatchEvent(d.isActivePressed,a,0))}}function m(a,b,c,d){__p&&__p();d.isActivePressStart=!1;d.isPressed=!1;if(d.isActivePressed){d.isActivePressed=!1;var e=c.onPressEnd;j(e)&&k(a,e,b,d,"pressend",0);a=c.onPressChange;j(a)&&b.dispatchEvent(d.isActivePressed,a,0)}d.responderRegionOnDeactivation=null}function n(a){var b=a.key,c=a.target;a=c.tagName;c=c.isContentEditable;return("Enter"===b||" "===b||"Spacebar"===b)&&"INPUT"!==a&&"TEXTAREA"!==a&&!0!==c}function o(a,b,c){a=a.objectAssign({},h,c.pressRetentionOffset);var d=b.getBoundingClientRect();b=d.left;c=d.right;var e=d.bottom;d=d.top;a&&(null!=a.bottom&&(e+=a.bottom),null!=a.left&&(b-=a.left),null!=a.right&&(c+=a.right),null!=a.top&&(d-=a.top));return{bottom:e,top:d,left:b,right:c}}function p(a,b){b.addedRootEvents&&(b.addedRootEvents=!1,a.removeRootEventTypes(i))}function q(a,b){a=a.changedTouches;for(var c=0;c<a.length;c++){var d=a[c];if(d.identifier===b)return d}return null}function r(a,b,c,d){__p&&__p();null==d.responderRegionOnDeactivation&&(d.responderRegionOnDeactivation=o(b,d.pressTarget,c));b=d.responderRegionOnActivation;c=d.responderRegionOnDeactivation;if(null!=b){var e=b.left,f=b.top,g=b.right,h=b.bottom;null!=c&&(e=Math.min(e,c.left),f=Math.min(f,c.top),g=Math.max(g,c.right),h=Math.max(h,c.bottom))}b=a.clientX;a=a.clientY;d.isPressWithinResponderRegion=null!=e&&null!=g&&null!=f&&null!=h&&null!==b&&null!==a&&b>=e&&b<=g&&a>=f&&a<=h}var s=b("react").unstable_createResponder("Press",{targetEventTypes:a?["keydown_active","pointerdown","click_active"]:["keydown_active","touchstart","mousedown","click_active"],getInitialState:function(){return{activationPosition:null,addedRootEvents:!1,buttons:0,isActivePressed:!1,isActivePressStart:!1,isPressed:!1,isPressWithinResponderRegion:!0,pointerType:"",pressTarget:null,responderRegionOnActivation:null,responderRegionOnDeactivation:null,ignoreEmulatedMouseEvents:!1,activePointerId:null,shouldPreventClick:!1,touchEvent:null}},onEvent:function(a,b,c,d){__p&&__p();var e=a.pointerType,f=a.type;if(c.disabled)p(b,d),m(a,b,c,d),d.ignoreEmulatedMouseEvents=!1;else{var h=a.nativeEvent,q=d.isPressed;switch(f){case"pointerdown":case"keydown":case"mousedown":case"touchstart":if(q)n(h)&&" "===h.key&&h.preventDefault();else{var r="touchstart"===f,s="pointerdown"===f,t="keyboard"===e;q="mouse"===e;if("mousedown"!==f||!d.ignoreEmulatedMouseEvents){d.shouldPreventClick=!1;if(r)d.ignoreEmulatedMouseEvents=!0;else if(t)if(n(h)){f=h.altKey;t=h.ctrlKey;var u=h.metaKey,v=h.shiftKey;" "===h.key?h.preventDefault():!1===c.preventDefault||v||u||t||f||(d.shouldPreventClick=!0)}else break;d.pointerType=e;e=d.pressTarget=b.getResponderNode();if(s)d.activePointerId=h.pointerId;else if(r){r=h.targetTouches;r=0<r.length?r[0]:null;if(null===r)break;d.touchEvent=r;d.activePointerId=r.identifier}2===h.buttons||4<h.buttons||g&&q&&h.ctrlKey||(null!==e&&9!==e.nodeType&&(d.responderRegionOnActivation=o(b,e,c)),d.responderRegionOnDeactivation=null,d.isPressWithinResponderRegion=!0,d.buttons=h.buttons,l(a,b,c,d),d.addedRootEvents||(d.addedRootEvents=!0,b.addRootEventTypes(i)))}}break;case"click":d.shouldPreventClick&&h.preventDefault(),q=c.onPress,j(q)&&0===h.detail&&0===h.screenX&&0===h.screenY&&0===h.clientX&&0===h.clientY&&(d.pointerType="keyboard",d.pressTarget=b.getResponderNode(),!1!==c.preventDefault&&h.preventDefault(),k(a,q,b,d,"press",0))}}},onRootEvent:function(a,b,c,d){__p&&__p();var e=a.pointerType,f=a.target,g=a.type,h=a.nativeEvent,i=d.isPressed,o=d.activePointerId,s=d.pointerType;switch(g){case"pointermove":case"mousemove":case"touchmove":if(s!==e)break;if("pointermove"===g&&o!==h.pointerId)break;else if("touchmove"===g){var t=q(h,o);if(null===t)break;d.touchEvent=t}var u=d.pressTarget;null!==u&&null!==u&&9!==u.nodeType&&("mouse"===e&&b.isTargetWithinNode(f,u)?d.isPressWithinResponderRegion=!0:r(t||h,b,c,d));d.isPressWithinResponderRegion?i?(c=c.onPressMove,j(c)&&k(a,c,b,d,"pressmove",1)):l(a,b,c,d):m(a,b,c,d);break;case"pointerup":case"keyup":case"mouseup":case"touchend":if(i){if(i=d.buttons,t=!1,"pointerup"!==g||o===h.pointerId){if("touchend"===g){u=q(h,o);if(null===u)break;f=d.touchEvent=u;f=b.getActiveDocument().elementFromPoint(f.clientX,f.clientY)}else if("keyup"===g){if(!n(h))break;t=!0;p(b,d)}else 4===i&&p(b,d);if(b.isTargetWithinResponder(f)&&b.isTargetWithinHostComponent(f,"a")){g=h.altKey;o=h.ctrlKey;s=h.metaKey;var v=h.shiftKey;!1===c.preventDefault||v||s||o||g||(d.shouldPreventClick=!0)}g=d.pressTarget;m(a,b,c,d);o=c.onPress;null!==g&&j(o)&&(t||null===g||null===g||9===g.nodeType||("mouse"===e&&b.isTargetWithinNode(f,g)?d.isPressWithinResponderRegion=!0:r(u||h,b,c,d)),d.isPressWithinResponderRegion&&4!==i&&k(a,o,b,d,"press",0));d.touchEvent=null}}else"mouseup"===g&&(d.ignoreEmulatedMouseEvents=!1);break;case"click":"keyboard"!==s&&p(b,d);break;case"scroll":if("mouse"===s)break;e=d.pressTarget;h=h.target;f=b.getActiveDocument();null===e||h!==f&&!b.isTargetWithinNode(e,h)||(d.touchEvent=null,d.isPressed&&(d.ignoreEmulatedMouseEvents=!1,m(a,b,c,d)),p(b,d));break;case"pointercancel":case"touchcancel":case"dragstart":d.touchEvent=null,d.isPressed&&(d.ignoreEmulatedMouseEvents=!1,m(a,b,c,d)),p(b,d)}},onUnmount:function(a,b,c){c.isPressed&&(p(a,c),m(null,a,b,c))}});e.exports={PressResponder:s,usePress:function(a){return b("react").unstable_useResponder(s,a)}}}),null);